<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Rock Scissors Paper game</title>
  </head>

  <body>
    <h1>Rock Scissors Paper game</h1>
    <script>
        function computerPlay() {
          let randomChoice = (Math.floor(Math.random() * 3) + 1);
          console.log(randomChoice);
          if (randomChoice === 1) randomChoice = ('rock');
          else if (randomChoice === 2) randomChoice = ('scissors');
          else randomChoice = ('paper');
          return (randomChoice);
        }


        let computerSelection = computerPlay();
        console.log(computerSelection);
        
      
        function userPlay(){
          let playerSelection = prompt('Enter your selection(Rock/Scissors/Paper)');
          playerSelection = playerSelection.toLowerCase();
          if ( playerSelection === 'rock' || playerSelection === 'scissors' || playerSelection === 'paper')  { 
            return playerSelection;

          } else { 
            alert('Unknown data');
            userPlay()}
        }
        

        let playerScore = 0;
        let computerScore = 0;


        function roundPlay(){
          let computerSelection = computerPlay();
          let playerSelection = userPlay();
          console.log(computerSelection);
          console.log(playerSelection);

          if (playerSelection === computerSelection) {
            alert('Draw round!');
            
          }

          else if (( playerSelection === 'rock' && computerSelection === 'scissors') || 
                   ( playerSelection === 'scissors' && computerSelection === 'paper') ||
                   ( playerSelection === 'paper' && computerSelection === 'rock')) {
            playerScore = ++playerScore;
            alert ('You win this round - ' + playerSelection + ' beats ' + computerSelection +'!');          
          }

          else {
            computerScore = ++computerScore;
            alert('You lose this round - ' + computerSelection + ' beats ' + playerSelection +'!');               
          }     
        }


        let results;


        function game(){
         
          for (let roundCount = 1; roundCount < 6; roundCount++) {
            roundPlay()
            results = (' results: Player score - ' + playerScore + ' Computer score - ' + computerScore );
            alert('Round ' + roundCount + results);
          } 
          
          if (playerScore === computerScore) {
            alert('Draw game!' + results);
          }
          
          else if (playerScore > computerScore) {
            alert('You win this game!' + results);
          }
          
          else {
            alert('You lose this game!' + results);
          }
        }


        game();
    </script>
 </body>
</html>
